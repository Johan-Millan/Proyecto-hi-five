CU-004: ASIGNAR ROL A USUARIO
INFORMACIÓN GENERAL

ID: CU-004

Nombre: Permite al personal administrativo asignar uno o varios roles a un usuario existente, controlando los permisos y accesos que tendrá dentro del sistema.

Módulo: Gestión de Usuarios y Roles – Roles

Prioridad: MUST

Complejidad: Media

Estado: Aprobado

Actores

Actor Principal: Personal Administrativo

Actores Secundarios: Sistema

Precondiciones

El usuario administrativo debe estar autenticado.

El usuario al que se asignará el rol debe existir previamente en la base de datos.

Los roles disponibles deben estar previamente configurados en el sistema.

Postcondiciones

El usuario queda asociado a uno o varios roles seleccionados.

El sistema actualiza los permisos del usuario.

Se registra en auditoría la asignación realizada.

Flujo Principal (Camino Feliz)

El actor ingresa al módulo de asignación de roles.

El sistema muestra la lista o buscador de usuarios disponibles.

El actor selecciona un usuario existente.

El sistema muestra los roles disponibles y los roles actualmente asignados.

El actor selecciona uno o varios roles que desea asignar.

El sistema valida la coherencia de permisos y posibles conflictos.

El sistema guarda la asignación de roles.

El sistema confirma la acción con un mensaje de éxito.

Flujos Alternativos

A1 – Corrección de selección

En el paso 5, el actor se equivoca en la selección de roles → Modifica la selección y retorna al paso 6.

Flujos de Excepción

E1 – Usuario no encontrado

3a. El sistema notifica al actor que el usuario no existe.

El flujo termina.

E2 – Rol inexistente o inactivo

5a. El sistema detecta que el rol seleccionado no está disponible.

5b. El sistema bloquea la selección y muestra un mensaje informativo.

E3 – Conflicto de permisos

6a. El sistema detecta un conflicto entre roles asignables.

6b. El sistema informa el conflicto y solicita una nueva selección.

Reglas de Negocio

RN-004: Un usuario puede tener múltiples roles siempre que no generen conflictos de permisos.

RN-005: Los roles deben estar aprobados y activos para ser asignados.

RN-003: Toda asignación debe registrarse en auditoría (usuario, fecha, hora, rol asignado).

Requisitos No Funcionales

RNF-001.1: La interfaz debe ser clara y sencilla para la selección de roles.

RNF-001.3: Debe ser operable con teclado y ratón.

RNF-001.4: Debe permitir ajuste de tamaño de fuente.

RNF-002.2: Las validaciones deben ejecutarse de manera rápida.

RNF-002.5: Debe soportar volumen escalable de usuarios y roles.

RNF-003.3: Protección de datos y permisos.

RNF-003.4: Registro de auditoría para la asignación de roles.

RNF-005.1: Debe funcionar como aplicación web.

Interfaces de Usuario

Pantalla: Asignación de Roles

Elementos:

Buscador de usuarios

Lista de roles disponibles

Lista de roles asignados

Botón “Asignar rol”

Alertas de validación y conflictos de permisos

Referencias

RF-002.1: Gestión de roles del sistema → usado para definir roles disponibles.

RF-002.3: Asignación de roles a usuarios → usado para el flujo principal.

RF-002.4: Validación de conflictos de permisos → usado en el paso 6 y en E3.

HU-004: Historia de usuario sobre asignación de roles → base narrativa.

RNF-001.1, RNF-001.3, RNF-001.4: Usados para especificar interfaz y usabilidad.

RNF-002.2, RNF-002.5: Usados para rendimiento y volumen.

RNF-003.3, RNF-003.4: Usados para seguridad y auditoría.

RNF-005.1: Usado para definir entorno web.
